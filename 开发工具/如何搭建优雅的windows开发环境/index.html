<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>如何搭建优雅的windows开发环境 | FinalHome | 最初的梦想</title>

  
  <meta name="author" content="Leo Hui">
  

  
  <meta name="description" content="description by Leo">
  

  
  
  <meta name="keywords" content="开发者">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="如何搭建优雅的windows开发环境"/>

  <meta property="og:site_name" content="FinalHome"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="FinalHome" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">FinalHome</a>
    </h1>
    <p class="site-description">最初的梦想</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
        <li><a href="/about">关于</a></li>
      
        <li><a href="/projects">项目</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>如何搭建优雅的windows开发环境</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/开发工具/如何搭建优雅的windows开发环境/" rel="bookmark">
        <time class="entry-date published" datetime="2016-12-17T14:26:46.000Z">
          2016-12-17
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>之前写过 &lt;如何搭建优雅的开发环境&gt; 系列(未完结)， 分章节的介绍了开发过程中使用的工具和技巧。里面也提及了 Windows 下的工具，但是不够系统，我还是很想整理一篇讲解 windows 下具体设置的文章。<a id="more"></a></p>
<h1 id="命令行"><a href="#命令行" class="headerlink" title="命令行"></a>命令行</h1><h2 id="PowerShell"><a href="#PowerShell" class="headerlink" title="PowerShell"></a>PowerShell</h2><p>微软以后肯定是要用 PowerShell 替代 cmd.exe 的，所以早晚我们都会用到，就别停留在 cmd 下了，那个难易操作的终端环境，反正我是打开一次就不想再看到。如果你觉得 cmd.exe 也无所谓，那起码安装一个 <a href="https://mridgers.github.io/clink/" target="_blank" rel="external">clink</a> 提升一些编辑操作。喜欢 linux 命令的朋友，还可以安装下 <a href="https://github.com/bmatzelle/gow" target="_blank" rel="external">gow</a> 体验 linux 命令。</p>
<p>但是我还是建议大家使用 PowerShell, 特别是配合 cmder(下面会提到)。可以安装一些插件来提升使用的体验。</p>
<p>因为 <a href="https://github.com/powershell/powershell" target="_blank" rel="external">PowerShell</a> 也更新了好几个版本，我们可以先看下如何安装or更新 PowerShell:</p>
<ul>
<li><a href="https://github.com/PowerShell/PowerShell/blob/master/docs/installation/windows.md#msi" target="_blank" rel="external">How to Install</a></li>
<li><a href="http://social.technet.microsoft.com/wiki/contents/articles/21016.how-to-install-windows-powershell-4-0.aspx" target="_blank" rel="external">How to Install Windows PowerShell 4.0</a></li>
</ul>
<p>安装完成，我们使用 <code>$PSVersionTable.PSVersion</code> 查看下安装的版本。</p>
<p>关于教程，可以看看:</p>
<ul>
<li><a href="https://github.com/PowerShell/PowerShell/tree/master/docs/learning-powershell" target="_blank" rel="external">Learning-powershell</a></li>
<li><a href="https://msdn.microsoft.com/en-us/powershell" target="_blank" rel="external">MSDN: PowerShell</a></li>
</ul>
<p>官方的教程，但是我也没看过，有问题就上 MSDN 或 Google 上搜一下吧。</p>
<h3 id="插件安装"><a href="#插件安装" class="headerlink" title="插件安装"></a>插件安装</h3><p>我不确定是否内置了命令 <code>Install-Module</code>, 因为我看到了一个模块： <a href="http://psget.net/" target="_blank" rel="external">PsGet</a>, 也是提供<code>install-module</code> 命令的, 估计是对原生的扩展吧。反正有了这个命令，我们就可以来安装模块了.</p>
<p>查找模块，对于的命令为 <code>Find-Module</code>。</p>
<p>模块安装完成后，一般会自动载入，如果有些没有自动载入，可能需要自己修改配置文件， 手动 <code>Import-Module</code>。对于安装过的模块和路径，我们可以通过 <code>get-Module</code>, <code>Get-Module --listAvailable</code> 和 <code>$env:PSModulePath</code> 查看。</p>
<h3 id="推荐模块"><a href="#推荐模块" class="headerlink" title="推荐模块"></a>推荐模块</h3><p>模块可以在 <a href="http://psget.net/directory/" target="_blank" rel="external">PsGet: Directory Index</a> 中找到，我推荐几个我安装过的:</p>
<ul>
<li><a href="https://github.com/tkellogg/Jump-Location" target="_blank" rel="external">Jump-Location</a>: 必装，提供 autojump 的实现，方便通过 <code>j xx</code> 进行目录跳转，配置 <code>open</code> （alias explorer.exe）, 方便打开目录</li>
<li><a href="https://github.com/dahlbyk/posh-git/" target="_blank" rel="external">Posh-git</a>: 必装， 提升 git 命令行操作体验。</li>
<li><a href="https://github.com/Davlind/PSColor" target="_blank" rel="external">PSColor</a>: 提供输入高亮</li>
<li><a href="https://github.com/ecsousa/PSColors" target="_blank" rel="external">PSColors</a>: 提供色彩高亮提示与输出，和上面那个可能是2选一关系吧, 这个感觉高端一些</li>
<li><a href="https://github.com/lzybkr/TabExpansionPlusPlus/" target="_blank" rel="external">TabExpansionPlusPlus</a>: 提升 命令后下 tab 扩展功能。</li>
<li><a href="http://psget.net/directory/PowerLS/" target="_blank" rel="external">PowerLS</a>: 提供 <code>powerls</code> 命令，可以配置 <code>Set-Alias -Name ls -Value PowerLS -Option AllScope</code> 针对目录展示色彩高亮（其实也没太多用处）</li>
<li><a href="https://github.com/drmohundro/Find-String/" target="_blank" rel="external">Find-String</a>: 提供类似 grep 命令</li>
<li><a href="https://github.com/imobile3/posh-svn" target="_blank" rel="external">Posh-svn</a>: 提升 svn 命令行操作，但是一般 svn 都用 GUI 操作了。</li>
</ul>
<h2 id="cmder"><a href="#cmder" class="headerlink" title="cmder"></a>cmder</h2><p><a href="http://cmder.net/" target="_blank" rel="external">cmder</a>: 是 windows 下的一个终端模拟器，它只是一个壳子，结合了 ConEum, clink, git-for-windows(可选)。提供可方便的快捷操作以及舒适的UI界面。</p>
<p>我一般是选择 mini 版本安装，解压缩后，打开 <code>cmder.exe</code>, 运行 <code>cmder /register all</code> 即可给右键菜单，添加上 <code>open cmder here</code> 功能。</p>
<p>然后再从 <code>Settings</code> 中设置默认的终端，选择 PowerShell, 这样配合起来就更加完美了。基于 cmder 的配置文件，我们放置在 <code>cmder/config</code> 中， 如果是 PowerShell 的，就添加 <code>user_profile.ps1</code> 即可。启动 cmder 会自动加载这个目录下的配置。</p>
<h2 id="babun"><a href="#babun" class="headerlink" title="babun"></a>babun</h2><p>如果你比较 Geek 或者需要在 windows 下进行 linux 开发，那么 <a href="https://babun.github.io/" target="_blank" rel="external">babun</a>: 一个整合 Cygwin, oh-my-zsh 等许多特性的终端环境，十分值得推荐。</p>
<p>安装过程异常简单，解压缩执行 <code>install.bat</code> 即可，都不需要管理员权限。但是需要注意的是，如果你安装过 Emacs, 一般都会设置 <code>HOME</code> 环境变量，这时 babun 会提示你不建议这么做，不用管它，直接继续安装。安装完成，你的 <code>~</code> 目录就是 <code>HOME</code> 配置的目录，一般是 <code>C:/User/uesr_name</code>。官方FAQ也给出过指导: <a href="https://babun.github.io/faq.html#_how_to_use_the_windows_user_profile_directory_as_my_home_directory_in_babun" target="_blank" rel="external">How to use the Windows’ user profile directory as my home directory in babun ?</a></p>
<p>安装完成后，桌面会有一个 babun 快捷方式， 进入后可以运行 <code>babun shell</code> 查看当前的 shell, 正常应该为 <code>zsh</code>，如果不是, 可执行 <code>babun shell zsh</code> 进行配置。</p>
<p>我们还会通过 <code>babun check</code> 检查下环境是否安装正常，可能网络是有问题的，就需要我们去配置 <code>~/.babunrc</code> 文件，设置对应的代理。</p>
<p>如果有更新，执行 <code>babun update</code> 即可。</p>
<h3 id="oh-my-zsh"><a href="#oh-my-zsh" class="headerlink" title="oh-my-zsh"></a>oh-my-zsh</h3><p>当我设置了 <code>HOME</code> 后，进入 babun 执行 <code>upgrade_oh_my_zsh</code> 会报错，提示我有没提交的内容，但是我如果没设置 <code>HOME</code> 进行安装后，是可以正常更新的。。。</p>
<p>算了，谁叫我用了 Emacs 了，只能再搜搜解决方案，终于找到了一个issue: <a href="https://github.com/babun/babun/issues/211" target="_blank" rel="external">Cannot update oh-my-zsh on start </a>， 里面给了解决方案为:</p>
<ul>
<li><code>git config core.filemode false</code></li>
<li>在 <code>.oh-my-zsh</code> 目录中，执行 <code>git rebase --skip</code></li>
<li>运行 <code>upgrade_oh_my_zsh</code> 即可更新</li>
</ul>
<h3 id="oh-my-zsh-插件"><a href="#oh-my-zsh-插件" class="headerlink" title="oh-my-zsh 插件"></a>oh-my-zsh 插件</h3><p>当我们可以运行 zsh 后，那么我们体验的东西又被大大的扩展了，者就是一个 linux 小世界，比如 tumx （我还没有尝试），我使用的一些插件，可以推荐一下:</p>
<ul>
<li><a href="https://github.com/wting/autojump" target="_blank" rel="external">autojump</a></li>
<li><a href="https://github.com/zsh-users/zsh-syntax-highlighting" target="_blank" rel="external">zsh-syntax-highlighting</a></li>
<li><a href="https://github.com/haad/proxychains" target="_blank" rel="external">proxychains</a>: 貌似不是 zsh 插件</li>
</ul>
<p>这些插件，我们都在 <code>~/.oh-my-zsh/custom/plugins</code> 目录下进行 <code>git clone</code>， 然后配置 <code>~/.zshrc</code>， 最后 <code>souce ~/.zshrc</code> 完成配置。</p>
<h1 id="包管理"><a href="#包管理" class="headerlink" title="包管理"></a>包管理</h1><h2 id="chocolye"><a href="#chocolye" class="headerlink" title="chocolye"></a>chocolye</h2><ul>
<li><a href="https://chocolatey.org/" target="_blank" rel="external">chocolatey</a>: The Package manager for Windows</li>
</ul>
<p>windows 下一直缺少一个好用的包管理工具，这个就是解决这个问题的，且支持代理配置，网络也不是太大的问题了。比如我们可以通过 choco 安装一些软件以及开发工具:</p>
<ul>
<li><a href="https://chocolatey.org/packages/yarn" target="_blank" rel="external">Yarn</a>： 可以不选择安装依赖的 node, 如果你单独安装过 node 的话</li>
<li><a href="https://chocolatey.org/packages/ccleaner" target="_blank" rel="external">CClearn</a></li>
</ul>
<p>由于我也是刚刚切换到 choco，所以之前的一些软件和工具，还不是用 choco 安装，但是后面我会一直用下去，因为包管理工具，配合命令行以及脚本，真是能够让你快速恢复开发环境。</p>
<h1 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h1><p>作为一个开发者，开发环境也是需要好好配置一些的，基础的 python, node, java 都需要安装。推荐大家看下微软的一篇文章： <a href="https://github.com/Microsoft/nodejs-guidelines/blob/master/windows-environment.md#compiling-native-addon-modules" target="_blank" rel="external">Configuring your Windows development environment</a></p>
<h2 id="node"><a href="#node" class="headerlink" title="node"></a>node</h2><ul>
<li><a href="https://github.com/coreybutler/nvm-windows" target="_blank" rel="external">nvm-windows</a></li>
<li><a href="https://www.npmjs.com/package/npm-windows-upgrade" target="_blank" rel="external">npm-windows-upgrade</a>: 打算逐步用 Yarn 替代 npm 了。</li>
</ul>
<h2 id="c"><a href="#c" class="headerlink" title="c++"></a>c++</h2><ul>
<li><a href="https://github.com/felixrieseberg/windows-build-tools" target="_blank" rel="external">windows-build-tools</a></li>
</ul>
<p>如果开发 node add-on 的话，c++ 环境就是必须的，即使不开发，我们使用 <code>node-gyp</code> 的时候，也需要安装。</p>
<h2 id="java"><a href="#java" class="headerlink" title="java"></a>java</h2><p>未完待续…</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/开发工具/">开发工具</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/开发者/">开发者</a>
    </span>
    

    </div>

    
  </div>
</article>

  
	<div id="comment">
	
	
	<!-- 多说评论框 start -->
	 <div class="ds-thread" data-thread-key="/开发工具/如何搭建优雅的windows开发环境/" data-title="如何搭建优雅的windows开发环境" data-url="http://finalhome.org/开发工具/如何搭建优雅的windows开发环境/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"leohxj"};
	  (function() {
	    var ds = document.createElement('script');
	    ds.type = 'text/javascript';ds.async = true;
	    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
	    ds.charset = 'UTF-8';
	    (document.getElementsByTagName('head')[0] 
	     || document.getElementsByTagName('body')[0]).appendChild(ds);
	  })();
	  </script>
	<!-- 多说公共JS代码 end -->
	
	</div>




    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2016 Leo Hui
    
  </p>
</footer>
    
    
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5563232'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/stat.php%3Fid%3D5563232%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>

  </div>
</div>
</body>
</html>