<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>hexo速食指南 | FinalHome | 最初的梦想</title>

  
  <meta name="author" content="Leo Hui">
  

  
  <meta name="description" content="description by Leo">
  

  
  
  <meta name="keywords" content="hexo">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="hexo速食指南"/>

  <meta property="og:site_name" content="FinalHome"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="FinalHome" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">FinalHome</a>
    </h1>
    <p class="site-description">最初的梦想</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
        <li><a href="/about">关于</a></li>
      
        <li><a href="/projects">项目</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>hexo速食指南</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/hexo相关/hexo速食指南/" rel="bookmark">
        <time class="entry-date published" datetime="2016-08-29T08:00:07.000Z">
          2016-08-29
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>基于 Hexo 3.x版本, 配合 github，带领大家快速构建自己的 blog。<a id="more"></a></p>
<p>之前搭建自己 blog 的时候，整理过几篇文章，一年多过去了，Hexo 也已经升级到了 3.x 版本，和之前的版本使用上稍有差别。这次更新 hexo，顺便再次记录一下博客的构建。</p>
<h2 id="什么是-Hexo"><a href="#什么是-Hexo" class="headerlink" title="什么是 Hexo"></a>什么是 Hexo</h2><blockquote>
<p>Hexo: A fast, simple &amp; powerful blog framework.</p>
</blockquote>
<p>官方的一句话介绍：“快速，简单，强大的博客框架”。</p>
<p>实质完成的工作是：让我们以<code>markdown</code>形式书写博客内容，通过 Hexo 帮助我们生成静态文件，配合 github， 或者其他静态资源服务器进行部署。</p>
<h2 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h2><p>使用 Hexo 有两个必要工具需要确保安装：</p>
<ul>
<li>git</li>
<li>node</li>
</ul>
<p>使用 <code>npm i -g hexo-cli</code> 安装 <code>hexo</code> 命令行工具。</p>
<h2 id="创建-blog-目录"><a href="#创建-blog-目录" class="headerlink" title="创建 blog 目录"></a>创建 blog 目录</h2><p><code>hexo init &lt;folder&gt;</code> 创建我们的 blog 目录。</p>
<p>此命令会帮助我们生成目录，并进入执行 <code>npm install</code>，如遇失败，我们需要手动进入生成的目录，并再次执行 <code>npm install</code>。</p>
<h2 id="创建文章"><a href="#创建文章" class="headerlink" title="创建文章"></a>创建文章</h2><p><code>hexo new [layout] &lt;title&gt;</code> 命令可以帮助我们创建文章模版。</p>
<p>layout支持三种类型，对应生成文件在不同的目录下:</p>
<ul>
<li><code>post</code>: <code>source/_posts</code></li>
<li><code>page</code>: <code>source</code></li>
<li><code>draft</code>: <code>source/_drafts</code></li>
</ul>
<p>如果不传递 <code>layout</code>， 默认生成的就是 <code>post</code> 类型。文件在 <code>source/_posts</code> 目录下， 文件的内容结构大致如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title: &#123;&#123; title &#125;&#125;</div><div class="line">date: &#123;&#123; date &#125;&#125;</div><div class="line">tags:</div><div class="line">---</div></pre></td></tr></table></figure>
<p>这一段相当于是文件信息， 是给 Hexo 使用，帮助我们生成目录，标签等内容的。 它下面开始的就是我们实际的文件内容，使用 <code>markdown</code> 语法编写。</p>
<h2 id="本地预览"><a href="#本地预览" class="headerlink" title="本地预览"></a>本地预览</h2><p><code>hexo server</code> 命令帮助我们在本地实现预览。</p>
<p>默认开启的是 4000 端口， 通过 <code>localhost:4000</code> 即可访问。</p>
<h2 id="生成静态文件"><a href="#生成静态文件" class="headerlink" title="生成静态文件"></a>生成静态文件</h2><p><code>hexo generate</code> 命令帮助我们生成静态资源文件。</p>
<p>生成的文件在 <code>public</code> 目录下，我们只要将这个目录内容发布到 github 或 静态资源服务器上，即可通过域名访问了。</p>
<h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p>这里讲解配合 github 部署的方案， Hexo 3.x 版本后， 部署git需要安装一个插件: <a href="https://github.com/hexojs/hexo-deployer-git" target="_blank" rel="external">hexo-deployer-git</a>, 然后设置我们的 <code>_config.yml</code> 配置文件:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">  type: git</div><div class="line">  repo: &lt;repository url&gt;</div><div class="line">  branch: [branch]</div></pre></td></tr></table></figure>
<p>填上我们项目的url, branch 信息，即可通过 <code>hexo deploy</code> 实现发布到对应 github 仓库中了。</p>
<p><strong>注意</strong>： github 默认提供一个 <code>username.github.io</code> 仓库， 用来给我们存放个人相关站点， 通过域名 <code>username.github.io</code> 即可访问。原来需要设置<code>gh-page</code>分支，现在也可以直接指定静态资源访问的分支了。如有不明白的地方，自行 google 一下吧， 只要达到将静态文件存放到这个仓库中，就能实现访问了。</p>
<h2 id="主题切换"><a href="#主题切换" class="headerlink" title="主题切换"></a>主题切换</h2><p>基本的 blog 系统算是完成了，我们对界面或许还有些追求， Hexo 也提供了许多主题供我们选择，在 <a href="https://hexo.io/themes/" target="_blank" rel="external">Hexo Themes</a> 可以查看。</p>
<p>选择了一个主题之后，我们可以将它 <code>clone</code> 或 <code>download</code> 到本地，放置在 <code>theme</code> 目录下， 然后修改 <code>_config.yml</code> 文件，配置主题名称, 比如我的这个主题 <code>Hacker</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">theme: Hacker</div></pre></td></tr></table></figure>
<p>主题相关的设置，比如是否有评论组件，google统计等设置，均在主题目录下的 <code>_config.yml</code> 中进行配置，具体的配置要查看主题文档。</p>
<h2 id="添加插件"><a href="#添加插件" class="headerlink" title="添加插件"></a>添加插件</h2><p>通常我们还会为博客生成 <code>sitemap</code> 和 <code>RSS</code> 订阅需要的文件，活着添加本地保存刷新功能。这些是需要插件完成的，下载对应的插件，然后在 <code>_config.yml</code> 中进行对应配置即可。这里推荐几个插件:</p>
<ul>
<li>hexo-generator-sitemap: 生成网站的sitemap文件</li>
<li>hexo-generator-feed: Generate Atom 1.0 or RSS 2.0 feed.</li>
<li>hexo-generator-archive: Archive generator plugin for Hexo.</li>
<li>hexo-deployer-git: Git deployer plugin for Hexo.</li>
<li>hexo-browsersync: 自动刷新功能</li>
</ul>
<h2 id="域名绑定"><a href="#域名绑定" class="headerlink" title="域名绑定"></a>域名绑定</h2><p>进过了以上的一些设置，我想各位应该可以搭建一个类似本站的博客了。最后一步可能就是需要设置一个自己的域名了。通过需要两步：</p>
<ul>
<li>在域名系统中添加 A纪录 和 <code>CNAME</code>： 通过自己的域名，能够访问 <code>username.github.io</code></li>
<li>在<code>source</code>目录下添加 <code>CNAME</code>： 通过<code>username.github.io</code>，能够跳转到自己的域名</li>
</ul>
<p><code>CNAME</code>文件内容，就是自己的域名地址。</p>
<h2 id="资源管理"><a href="#资源管理" class="headerlink" title="资源管理"></a>资源管理</h2><p>主要是对图片和项目工程的管理。</p>
<p>图片，Hexo 建议我们将工程用到的图片直接放置在 <code>source/images</code> 目录中，如果是文章依赖的图片，通过修改 <code>_config.yml</code> 中的 <code>post_asset_folder: true</code>, 再次创建新文章的时候，就会创建一个和文章同名的目录，用来存放我们的素材。</p>
<p>工程上面，我们放置到 github 上的，是生成的静态资源。我们项目实际的工程是放置在本地的，所以不利于同步和管理。我目前使用的是在 <code>username.github.io</code> 上创建一个 <code>source</code> 分支，用来存放管理源文件。这样，我在一台新的电脑上，只需要 :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git checkout source</div><div class="line">npm install</div><div class="line">hexo deploy -g</div></pre></td></tr></table></figure>
<p>就可以在新的机器上完成写作与部署了。</p>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>最后说一点，博客记录的是自己的产出，多花点时间专注在内容上 :)</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/hexo相关/">hexo相关</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/hexo/">hexo</a>
    </span>
    

    </div>

    
  </div>
</article>

  
	<div id="comment">
	
	
	<!-- 多说评论框 start -->
	 <div class="ds-thread" data-thread-key="/hexo相关/hexo速食指南/" data-title="hexo速食指南" data-url="http://finalhome.org/hexo相关/hexo速食指南/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"leohxj"};
	  (function() {
	    var ds = document.createElement('script');
	    ds.type = 'text/javascript';ds.async = true;
	    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
	    ds.charset = 'UTF-8';
	    (document.getElementsByTagName('head')[0] 
	     || document.getElementsByTagName('body')[0]).appendChild(ds);
	  })();
	  </script>
	<!-- 多说公共JS代码 end -->
	
	</div>




    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2016 Leo Hui
    
  </p>
</footer>
    
    
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5563232'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/stat.php%3Fid%3D5563232%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>

  </div>
</div>
</body>
</html>